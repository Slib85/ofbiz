function resizeText(e,t,i){i=void 0!==i?i:9;for(var r=0;e.height()<=t.height();){r++;var n=parseInt(e.css("font-size"));if(parseInt(e.css("font-size"))<=i||r>100){e.css("font-size",i+"px");break}e.css("font-size",n-1+"px")}}function twoLineFontResize(e,t,i){$.each($(e),function(){for(var e=0;getFullHeight($(this))>t&&parseInt($(this).css("font-size"))>i&&(e++,$(this).css("font-size",parseInt($(this).css("font-size"))-1+"px"),!(e>100)););getFullHeight($(this))>t&&parseInt($(this).css("font-size"))==i&&$(this).css({overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"2",height:"35px"})})}if($("[bns-mega-menu-level]").on("click",function(e){e.preventDefault(),GoogleAnalytics.trackEvent("Header","Mega Menu",$(this).text(),parseInt($(this).attr("bns-mega-menu-level"))),window.location.href=$(this).attr("href")}),$("[bns-menu-level]").on("click",function(e){e.preventDefault(),GoogleAnalytics.trackEvent("Header","Menu",$(this).text(),parseInt($(this).attr("bns-menu-level"))),window.location.href=$(this).attr("href")}),$(".colSearch").on("click",function(e){e.preventDefault(),GoogleAnalytics.trackEvent("Header","Color Swatch",$(this).find("div").html()),window.location.href=$(this).attr("href")}),$(".jqs-rushInfo").on("click",function(e){GoogleAnalytics.trackEvent("Header","Mini Header","Rush Details")}),$("[bns-track_event]").on("click",function(e){e.preventDefault();try{var parameterString="",parameterList=$(this).attr("bns-track_event").split("|");if("object"==typeof parameterList)for(var i=0;i<parameterList.length;i++)parameterString+='"'+parameterList[i]+'",';eval("GoogleAnalytics.trackEvent("+parameterString.replace(/\,$/,"")+")")}catch(e){log(e,!0)}void 0!==$(this).attr("href")&&(window.location.href=$(this).attr("href"))}),$("[data-ga-promo]").on("click",function(e){e.preventDefault(),GoogleAnalytics.trackContent($(this).attr("data-ga-promo-id"),$(this).attr("data-ga-promo-name"),$(this).attr("data-ga-promo-creative"),$(this).attr("data-ga-promo-position")),$(this)[0].hasAttribute("href")&&(window.location.href=$(this).attr("href"))}),"undefined"!=typeof Storage&&localStorageEnabled){function loadIParcelFiles(){"US"!=localStorage.countryGeoId&&"CA"!=localStorage.countryGeoId&&$.ajax({url:"//script.i-parcel.com/JavaScript/Merchant/2001/1",dataType:"script",cache:!0,async:!0}).done(function(e){var t=$('<link rel="stylesheet" type="text/css" href="//script.i-parcel.com/CSS/Merchant/2001/1">');$("head").append(t)})}void 0===localStorage.countryGeoId?$.ajax({type:"GET",url:"https://texel.envelopes.com/getCountry",async:!0,cache:!0,dataType:"json"}).done(function(e){null!=e&&void 0!==e.CountryCode&&(localStorage.countryGeoId=e.CountryCode),loadIParcelFiles()}):loadIParcelFiles()}function clearSiteWideTabContentShadowBox(){$("[bns-sitewidetabcontent]").animate({bottom:parseInt("-"+getFullHeight($("[bns-sitewidetabcontent]")))+"px",left:"0px"},0),$("[bns-sitewidetabbutton]").css({top:"5px",left:"0px","background-color":"#f1f1f1",padding:"10px","z-index":"15002"}),$("[bns-sitewidetabcontentshadowbox]").remove(),$("[bns-sitewidetabbutton]").attr("bns-active","false")}if("folders"!=websiteId&&$.ajax({type:"GET",url:"https://"+rootURL+"/"+websiteId+"/control/couponList",cache:!0,async:!0,dataType:"html"}).done(function(e){$(".jqs-couponList").html(e),window.setTimeout(function(){$("[bns-sitewidetabcontent]").css({bottom:parseInt("-"+getFullHeight($("[bns-sitewidetabcontent]")))+"px",left:"0px"}),$('[bns-sitewidetabbutton="siteWideTodaysDeals"]').css("display","inline")},500)}),$("[bns-sitewidetabbutton]").on("click",function(e){e.stopPropagation(),void 0===$(this).attr("bns-active")||"false"==$(this).attr("bns-active")?($("[bns-sitewideid]").css("display","none"),$('[bns-sitewideid="'+$(this).attr("bns-sitewidetabbutton")+'"]').css("display","block"),$("[bns-sitewidetabcontent]").css({bottom:parseInt("-"+getFullHeight($("[bns-sitewidetabcontent]")))+"px",padding:"20px",height:"400px"}),slideIt_init($("[bns-recentlyviewedcontent] .slideIt")),$("[bns-sitewidetabbutton]").attr("bns-active","false").css({top:"5px",left:"0px","background-color":"#f1f1f1",padding:"10px","z-index":"15002"}),$(this).prevAll().each(function(){$(this).css("left","10px")}),$(this).attr("bns-active","true").css({top:"6px",left:"5px","background-color":"#ffffff",padding:"15px 20px 10px 20px","z-index":"20000"}),$("[bns-sitewidetabcontent]").animate({bottom:"0px"},0),0==$("[bns-sitewidetabcontentshadowbox]").length&&($("body").append($("<div />").attr("bns-sitewidetabcontentshadowbox","").css({"background-color":"#000000","z-index":"15000",width:"100%",height:"100%",position:"fixed",top:"0px",left:"0px",opacity:".3"})),$("[bns-sitewidetabcontentshadowbox], [bns-sitewidetabbuttoncontainer]").off("click").on("click",function(){clearSiteWideTabContentShadowBox()})),$('[bns-sitewideid="siteWideTodaysDeals"] .couponList [data-reveal-id="stayInTheLoop"]').on("click",function(){clearSiteWideTabContentShadowBox()})):clearSiteWideTabContentShadowBox()}),localStorageEnabled&&void 0!==localStorage.recentlyVisitedProducts){var recentlyVisitedProducts=JSON.parse(localStorage.recentlyVisitedProducts),itemListDom=$("<div/>").addClass("slideIt-container").css({height:"275px","margin-top":"35px"}).append($("<div />").addClass("slideIt-left").append($("<i />").addClass("fa fa-chevron-left"))),innerItemListDom=$("<div />");function cleanRecentlyVisitedProducts(e){for(var t=new Array,i=0;i<e.productList.length;i++){var r=e.productList[i];if(duplicateIndex=t.indexOf(r.productId),void 0!==r.productId&&-1!=duplicateIndex){e.productList.splice(i,1),cleanRecentlyVisitedProducts(e);break}t.push(r.productId)}}cleanRecentlyVisitedProducts(recentlyVisitedProducts);for(var index=0;index<recentlyVisitedProducts.productList.length;index++){var obj=recentlyVisitedProducts.productList[index];if(obj.productId==$("[data-productSku]").text()){recentlyVisitedProducts.productList.splice(index,1),recentlyVisitedProducts.productList.push(obj);break}}for(var index=recentlyVisitedProducts.productList.length-1;index>=0;index--){var obj=recentlyVisitedProducts.productList[index];innerItemListDom.append($("<div/>").css({width:"200px",margin:"0 20px"}).append($("<a/>").addClass("text-center wrapText recentItem").attr({href:obj.href}).append($("<img/>").attr({src:"https://actionenvelope.scene7.com/is/image/ActionEnvelope/"+obj.productId+"?wid=150&hei=75&fmt=jpeg&qlt=75&bgc=ffffff"})).append($("<div/>").addClass("text-left").append($("<div />").addClass("margin-top-xs name").html(obj.name.replace(/(^.*?)\s((?:\(|\&\#x28\;))/,'$1<br /><span class="recentlyViewedSize">$2'))).append($("<div/>").addClass("recentProdDetails").html(obj.productId)).append($("<div/>").addClass("recentProdDetails").html(obj.color)).append($("<div/>").addClass("jqs-starRating rating-"+obj.rating)).append($("<div/>").html("From "+formatCurrency(obj.price))))))}itemListDom.append($("<div />").addClass("slideIt text-left").append(innerItemListDom)).append($("<div />").addClass("slideIt-right").append($("<i />").addClass("fa fa-chevron-right"))),$("[bns-recentlyviewedcontent]").append(itemListDom),$(".recentItem").on("click",function(){e.preventDefault(),GoogleAnalytics.trackEvent("Tabs","Your Recently Viewed Products",$(this).find("div.name").html()),window.location.href=$(this).attr("href")}),window.setTimeout(function(){$("[bns-sitewidetabcontent]").css({bottom:parseInt("-"+getFullHeight($("[bns-sitewidetabcontent]")))+"px",left:"0px"}),$('[bns-sitewidetabbutton="siteWideRecentlyViewed"]').css("display","inline")},500)}function updateLoginReorderMenu(){if("undefined"!=typeof Storage&&void 0!==localStorage.reOrderHistory){var e=JSON.parse(localStorage.reOrderHistory);$(".jqs-reorderProds").remove(),new Date(e.expireDate)<new Date&&localStorage.removeItem("reOrderHistory"),void 0!==e.items&&Object.keys(e.items).length>0?Object.keys(e.items).forEach(function(t){$(".jqs-recentProdHeader").after($("<a/>").addClass("jqs-reorderProds recent-product").append($("<div/>").addClass("recent-product-img").append($("<img/>").attr("src","https://actionenvelope.scene7.com/is/image/ActionEnvelope/"+e.items[t].productId+"?wid=93&hei=80&fmt=jpeg&qlt=75&bgc=ffffff"))).append($("<div/>").css({display:"table-cell",width:"133px","padding-left":"5px","vertical-align":"top"}).append($("<a />").attr("bns-resizablecontent","").attr("href","/"+websiteId+"/control/product/~product_id="+e.items[t].productId).html(e.items[t].itemDescription)).append($("<div/>").css({"font-size":"11px",width:"133px",color:"#292b2d"}).html(formatCurrency(parseInt(e.items[t].quantity)*parseFloat(e.items[t].unitPrice))+" - "+parseInt(e.items[t].quantity)+" Qty")).append($("<div/>").addClass("add-to-cart").attr("reorder-data",e.items[t].orderId+"|"+e.items[t].orderItemSeqId+"|"+(null==e.items[t].artworkSource?"undefined|undefined":"true|")).html("Add to Cart").on("click",function(e){$.ajax({url:"/"+websiteId+"/control/reorderItems",data:"itemUUIDs="+$(this).attr("reorder-data"),dataType:"json",method:"POST"}).done(function(e){if(1==e.success){GoogleAnalytics.trackEvent("Header","ReOrder","Success");var t=$("<form/>").attr("id","reordercart").attr("action","cart").attr("method","POST").append('<input type="hidden" name="lastVisitedURL" value="'+document.referrer+'" />').append('<input type="hidden" name="fromAddToCart" value="true" />');$("body").append(t),$("#reordercart").submit()}}).fail(function(e,t){})}))))}):($(".jqs-recentOrderHistory").remove(),$("#dropdown-myAccount").css("width","275px")),$(".jqs-firstName").html(localStorage.firstName),$(".jqs-headerLoyaltyPoints").html(e.loyaltyPoints),$(".jqs-headerLoyaltyPercent").html(e.discountRate+"% Discount"),twoLineFontResize($("[bns-resizablecontent]"),32,12)}else $(".jqs-recentOrderHistory").remove(),$("#dropdown-myAccount").css("width","275px")}var loadReOrderHistory=function(){localStorageEnabled&&void 0!==localStorage.firstName&&void 0===localStorage.reOrderHistory?$.ajax({type:"GET",url:"/"+websiteId+"/control/getUserOrderSummary?orderType=all",cache:!1,dataType:"json",async:!0}).done(function(e){if(e.success&&void 0!==e.orders&&e.orders.length>0){for(var t={},i=0,r=e.orders.length-1;r>=0;--r){for(var n=0;n<e.orders[r].items.length;n++){var o=e.orders[r].orderId+"_"+e.orders[r].items[n].orderItemSeqId;if(e.orders[r].items[n].orderId=e.orders[r].orderId,t[o]=e.orders[r].items[n],3==++i)break}if(3==i)break}var s={expireDate:getFutureDate(1,!1),loyaltyPoints:e.loyaltyPoints,discountRate:e.discountRate,items:t};localStorage.setItem("reOrderHistory",JSON.stringify(s))}updateLoginReorderMenu()}):localStorageEnabled&&void 0!==localStorage.firstName&&void 0!==localStorage.reOrderHistory&&updateLoginReorderMenu()};loadReOrderHistory(),$(function(){getIEVersion()<=9&&0!=getIEVersion()&&($("[placeholder]").focus(function(){var e=$(this);e.val()==e.attr("placeholder")&&(e.val(""),e.removeClass("placeholder"))}).blur(function(){var e=$(this);""!=e.val()&&e.val()!=e.attr("placeholder")||(e.addClass("placeholder"),e.val(e.attr("placeholder")))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var e=$(this);e.val()==e.attr("placeholder")&&e.val("")})})),delete Array.prototype.toJSON,Date.prototype.toJSON=function(e){function t(e){return e<10?"0"+e:e}return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+t(this.getUTCMilliseconds())+"Z"},$(document).on("drop dragover",function(e){e.preventDefault()}),$(".jqs-footer_email_subscribe").on("click",function(){var e=$(".jqs-email_subscribe_input");$(".jqs-subscribe-email-error, .jqs-subscribe-email-message").hide();var t=e.val();if(validateEmailAddress(t))try{_ltk.SCA.CaptureEmail(t),$(".jqs-subscribe-email-message").html("Successfully subscribed to email newsletter").show(),e.val("")}catch(e){$(".jqs-subscribe-email-message").html("There was an issue subscribing to the email newsletter.").show()}else $(".jqs-subscribe-email-error").html("Invalid Email address").show()}).on("focus",function(){$(".jqs-subscribe-email-error, .jqs-subscribe-email-message").hide()}),$(".products-item-popup li > a").on("mouseenter mouseleave",function(){$(this).siblings("img").length>0&&($(this).siblings("img").toggle(),$(this).parentsUntil(".products-item-popup").parent().find(".parent_image").toggle())}),$("form[name=globalsearch]").on("submit",function(){var e=$(this).find("input[name=w]");""==$(e).val()&&$(e).val("*")}),$("form[name=globalsearch] input[name=w]").on("input",function(){var e=$(this).val();waitForFinalEvent(function(){""!=e?$.ajax({type:"GET",url:"https://texel.envelopes.com/searchAutoComplete?wsi=envelopes&w="+encodeURIComponent(e),dataType:"json",cache:!1}).done(function(e){if(void 0!==e.results&&e.results.length>0){$("#dropdown-sli-search-results").children().remove();var t=$("<div />").addClass("popup-border-fade").append($("<div />").addClass("sli_ac_products").append($("<h4 />").addClass("sli_ac_section").html("Suggested Products")).append($("<ul />")));$("#dropdown-sli-search-results").append(t),$.each(e.results,function(t){$("#dropdown-sli-search-results .popup-border-fade .sli_ac_products ul").append($("<li />").addClass("sli_ac_product").append($("<a />").attr("href","https://www.envelopes.com/envelopes/control/"+e.results[t]._source.url).append($("<div />").addClass("sli_ac_iwrap").append($("<img />").addClass("sli_ac_image").attr({src:e.results[t]._source.image+"?fmt=png-alpha&wid=50",alt:e.results[t]._source.name}))).append($("<div />").addClass("searchBarResultsProductInfo").append($("<h3 />").addClass("sli_ac_title").html(e.results[t]._source.name)).append($("<p />").addClass("sli_ac_excerpt").html(e.results[t]._source.color).append($("<span />").addClass("sli_ac_price").html(formatCurrency(e.results[t]._source.baseprice))))))),$(".sli_ac_product:odd").addClass("sli_ac_odd"),$(".sli_ac_product:even").addClass("sli_ac_even")})}else $("#dropdown-sli-search-results").children().remove()}):$("#dropdown-sli-search-results").children().remove()},100,"globalSearch")}),$(".jqs-number").on("input",function(e){$(this).val($(this).val().replace(/[^0-9]/g,""))}),$(".reveal-modal-limiter").on("click",function(e){$(e.target).attr("id")==$(this).attr("id")&&$("#"+$(this).attr("id")).foundation("reveal","close")}),setPersistentCartId(),$(".jqs-trackHeaderBanner").on("click",function(){GoogleAnalytics.trackEvent("undefined"!=typeof pageView?pageView:"Anonymous Page","Header Banner","Clicked")}),createScrollableLock();var e="";function t(t,i,r){var n=t.find('input[name="email_address"]').val();r=void 0!==r?" - "+r:"",validateEmailAddress(n)?($().addOrUpdateBrontoEmail(n,function(t){t?(e="success","undefined"!=typeof productPage&&"LUX-SWATCHBOOK"==productPage.returnActiveProduct(!0).productId&&$("#stayInTheLoop.reveal-modal").removeAttr("bns-additionalsource")):e="bronto_error"},i+r),GoogleAnalytics.trackEvent("New Visitor","PopUp w/ Email","Success"),GoogleAnalytics.trackEvent("Email Signup","Page",("undefined"!=typeof currentview?currentview:"unknown")+r)):e="error"}function i(){$("#stayInTheLoop-mobile").animate({bottom:"-"+getFullHeight($("#stayInTheLoop-mobile"))+"px"},function(){$(this).hide()})}$('[data-reveal-id="stayInTheLoop"]').off("click.stayInTheLoopAdditionalSource").on("click.stayInTheLoopAdditionalSource",function(){var e=$(this).attr("bns-stayintheloop-additionalsource");$("#"+$(this).attr("data-reveal-id")).attr("bns-additionalsource",void 0!==e?e:"")}),$("#stayInTheLoop-mobile .jqs-decline_email").on("click",function(){i()}),$("#stayInTheLoop-mobile .jqs-submit_email").on("click",function(){var r=$("#stayInTheLoop-mobile"),n=("undefined"!=typeof currentview?currentview:"HomePage PopUp")+"(Mobile)";-1!=document.referrer.toLowerCase().indexOf("eatupnewyork")&&(n="eatupny"),t(r,n);var o=function(){"success"==e?(r.find("[bns-sitl-show_on_success]").removeClass("hidden"),r.find("[bns-sitl-hide_on_success]").removeClass("hidden").addClass("hidden"),r.find(".jqs-sitl_error").hide(),r.find(".jqs-submission").hide(),r.find("input").hide(),r.find(".jqs-response_text").removeClass("hidden").css({display:"block","font-size":"20px",color:"#ffffff",padding:"3px 0 10px"}).html('Use Code: <span style="border: solid black 2px;padding: 3px 10px;">TAKE10</span>'),r.find(".sitlSuccessBtn").removeClass("hidden"),window.setTimeout(function(){i()},5e3)):"bronto_error"==e?(r.find(".jqs-sitl_error").removeClass("hidden"),r.find(".jqs-sitl_error").html("There was an issue adding your email.  Please contact customer service.")):"error"==e?(r.find(".jqs-sitl_error").removeClass("hidden"),r.find(".jqs-sitl_error").html("Please enter a valid email address.")):window.setTimeout(function(){o()},1e3),e=""};window.setTimeout(function(){o()},1e3)}),$("#stayInTheLoop .jqs-submit_email, #fship-promo .jqs-submit_email, #fship-promo2 .jqs-submit_email").on("click",function(){var i=$(this).parentsUntil(".reveal-modal").parent(),r="undefined"!=typeof currentview?currentview:"Unknown",n=i.attr("bns-additionalsource");-1!=document.referrer.toLowerCase().indexOf("eatupnewyork")&&(r="eatupny"),t(i,r,n);var o=function(){"success"==e?(i.find('[bns-hideonsuccess="stayInTheLoop"]').addClass("hidden"),i.find('[bns-showonsuccess="stayInTheLoop"]').removeClass("hidden"),i.find(""),i.find('[bns-showonsuccess="stayInTheLoop"].jqs-response_text').css({"line-height":"50px",display:"block","font-size":"26px",margin:"25px auto 30px",color:"#ffffff"}).html('Use Code: <span style="border: solid black 2px;padding: 3px 10px;">TAKE10</span>')):"bronto_error"==e?(i.find(".jqs-sitl_error").removeClass("hidden"),i.find(".jqs-sitl_error").html("There was an issue adding your email.  Please contact customer service.")):"error"==e?(i.find(".jqs-sitl_error").removeClass("hidden"),i.find(".jqs-sitl_error").html("Please enter a valid email address.")):window.setTimeout(function(){o()},1e3),e=""};window.setTimeout(function(){o()},1e3)}),$("#foldersPopup .jqs-submit_email").on("click",function(){var i=$("#foldersPopup"),r=campaign;t(i,r);var n=function(){"success"==e?(i.find(".jqs-sitl_error").hide(),i.find(".jqs-submit_email").hide(),i.find(".jqs-form_info").hide(),i.find(".jqs-response_text").html("Thank you for signing up, and welcome to Envelopes.com!<br />You will start receiving our e-mails shortly.")):"bronto_error"==e?(i.find(".jqs-sitl_error").removeClass("hidden"),i.find(".jqs-sitl_error").html("There was an issue adding your email.  Please contact customer service.")):"error"==e?(i.find(".jqs-sitl_error").removeClass("hidden"),i.find(".jqs-sitl_error").html("Please enter a valid email address.")):window.setTimeout(function(){n()},1e3),e=""};window.setTimeout(function(){n()},1e3)}),$("#remittancePopup .jqs-submit_email").on("click",function(){var i=$("#remittancePopup"),r=campaign;t(i,r);var n=function(){"success"==e?(i.find(".jqs-sitl_error").hide(),i.find(".jqs-submit_email").hide(),i.find(".jqs-form_info").hide(),i.find(".jqs-response_text").html("Thank you for signing up, and welcome to Envelopes.com!<br />You will start receiving our e-mails shortly.")):"bronto_error"==e?(i.find(".jqs-sitl_error").removeClass("hidden"),i.find(".jqs-sitl_error").html("There was an issue adding your email.  Please contact customer service.")):"error"==e?(i.find(".jqs-sitl_error").removeClass("hidden"),i.find(".jqs-sitl_error").html("Please enter a valid email address.")):window.setTimeout(function(){n()},1e3),e=""};window.setTimeout(function(){n()},1e3)}),$("#whiteinkPopup .jqs-submit_email").on("click",function(){var i=$("#whiteinkPopup");t(i,"white_ink_customers");var r=function(){"success"==e?(i.find(".jqs-sitl_error").hide(),i.find(".jqs-submit_email").hide(),i.find(".jqs-form_info").hide(),i.find(".jqs-response_text").html("Thank you for signing up, and welcome to Envelopes.com!<br />You will start receiving our e-mails shortly.")):"bronto_error"==e?(i.find(".jqs-sitl_error").removeClass("hidden"),i.find(".jqs-sitl_error").html("There was an issue adding your email.  Please contact customer service.")):"error"==e?(i.find(".jqs-sitl_error").removeClass("hidden"),i.find(".jqs-sitl_error").html("Please enter a valid email address.")):window.setTimeout(function(){r()},1e3),e=""};window.setTimeout(function(){r()},1e3)}),$("#downloadSizeGuide .jqs-submit_email").on("click",function(){var i=$("#downloadSizeGuide");t(i,"Size Guide");var r=function(){"success"==e?(i.find(".jqs-sitl_error").hide(),i.find(".jqs-submit_email").hide(),i.find(".jqs-form_info").hide(),i.find(".jqs-response_title").html("Thank You!"),i.find(".jqs-response_text").removeClass("hidden").html("You will receive an email with a link to download the Envelopes.com Size Guide shortly.")):"bronto_error"==e?(i.find(".jqs-sitl_error").removeClass("hidden"),i.find(".jqs-sitl_error").html("There was an issue adding your email.  Please contact customer service.")):"error"==e?(i.find(".jqs-sitl_error").removeClass("hidden"),i.find(".jqs-sitl_error").html("Please enter a valid email address.")):window.setTimeout(function(){r()},1e3),e=""};window.setTimeout(function(){r()},1e3)})}),$().updateMiniCart(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}var cx,escapable,gap,indent,meta,rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,r,n,o,s,a=gap,d=t[e];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(e)),"function"==typeof rep&&(d=rep.call(t,e,d)),typeof d){case"string":return quote(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(d)){for(o=d.length,i=0;i<o;i+=1)s[i]=str(i,d)||"null";return n=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,n}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;i<o;i+=1)"string"==typeof rep[i]&&(n=str(r=rep[i],d))&&s.push(quote(r)+(gap?": ":":")+n);else for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(n=str(r,d))&&s.push(quote(r)+(gap?": ":":")+n);return n=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,n}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,i){var r;if(gap="",indent="","number"==typeof i)for(r=0;r<i;r+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(e,t){var i,r,n=e[t];if(n&&"object"==typeof n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(void 0!==(r=walk(n,i))?n[i]=r:delete n[i]);return reviver.call(e,t,n)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e){e.fn.rwdImageMaps=function(){var t=this;return e(window).resize(function(){t.each(function(){if(void 0!==e(this).attr("usemap")){var t=e(this);e("<img />").load(function(){var i=t.attr("width"),r=t.attr("height");if(!i||!r){var n=new Image;n.src=t.attr("src"),i||(i=n.width),r||(r=n.height)}var o=t.width()/100,s=t.height()/100,a=t.attr("usemap").replace("#",""),d="coords";e('map[name="'+a+'"]').find("area").each(function(){var t=e(this);t.data(d)||t.data(d,t.attr(d));for(var n=t.data(d).split(","),a=new Array(n.length),l=0;l<a.length;++l)a[l]=l%2==0?parseInt(n[l]/i*100*o):parseInt(n[l]/r*100*s);t.attr(d,a.toString())})}).attr("src",t.attr("src"))}})}).trigger("resize"),this}}(jQuery),"function"!=typeof JSON.decycle&&(JSON.decycle=function(e){"use strict";var t=[],i=[];return function e(r,n){var o,s,a;if(!("object"!=typeof r||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String)){for(o=0;o<t.length;o+=1)if(t[o]===r)return{$ref:i[o]};if(t.push(r),i.push(n),"[object Array]"===Object.prototype.toString.apply(r))for(a=[],o=0;o<r.length;o+=1)a[o]=e(r[o],n+"["+o+"]");else for(s in a={},r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=e(r[s],n+"["+JSON.stringify(s)+"]"));return a}return r}(e,"$")}),"function"!=typeof JSON.retrocycle&&(JSON.retrocycle=function retrocycle($){"use strict";var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$});

/*
************
* json2.js *
************
*/
;if(typeof JSON!=='object'){JSON={};}
(function(){'use strict';function f(n){return n<10?'0'+n:n;}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf();};}
var cx,escapable,gap,indent,meta,rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}
if(typeof JSON.parse!=='function'){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}
text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}
throw new SyntaxError('JSON.parse');};}}());

/*
******************************
* jquery.rwdImageMaps.min.js *
******************************
*/
;(function(a){a.fn.rwdImageMaps=function(){var c=this;var b=function(){c.each(function(){if(typeof(a(this).attr("usemap"))=="undefined"){return}var e=this,d=a(e);a("<img />").load(function(){var g="width",m="height",n=d.attr(g),j=d.attr(m);if(!n||!j){var o=new Image();o.src=d.attr("src");if(!n){n=o.width}if(!j){j=o.height}}var f=d.width()/100,k=d.height()/100,i=d.attr("usemap").replace("#",""),l="coords";a('map[name="'+i+'"]').find("area").each(function(){var r=a(this);if(!r.data(l)){r.data(l,r.attr(l))}var q=r.data(l).split(","),p=new Array(q.length);for(var h=0;h<p.length;++h){if(h%2===0){p[h]=parseInt(((q[h]/n)*100)*f)}else{p[h]=parseInt(((q[h]/j)*100)*k)}}r.attr(l,p.toString())})}).attr("src",d.attr("src"))})};a(window).resize(b).trigger("resize");return this}})(jQuery);


/*
******************************
* cycle.js
******************************
*/
"function"!=typeof JSON.decycle&&(JSON.decycle=function(e){"use strict";var t=[],r=[];return function n(e,a){var o,i,f;if(!("object"!=typeof e||null===e||e instanceof Boolean||e instanceof Date||e instanceof Number||e instanceof RegExp||e instanceof String)){for(o=0;o<t.length;o+=1)if(t[o]===e)return{$ref:r[o]};if(t.push(e),r.push(a),"[object Array]"===Object.prototype.toString.apply(e))for(f=[],o=0;o<e.length;o+=1)f[o]=n(e[o],a+"["+o+"]");else{f={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(f[i]=n(e[i],a+"["+JSON.stringify(i)+"]"))}return f}return e}(e,"$")}),"function"!=typeof JSON.retrocycle&&(JSON.retrocycle=function retrocycle($){"use strict";var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$});



/*
************
* json2.js *
************
*/
;if(typeof JSON!=='object'){JSON={};}
(function(){'use strict';function f(n){return n<10?'0'+n:n;}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf();};}
var cx,escapable,gap,indent,meta,rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}
if(typeof JSON.parse!=='function'){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}
text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}
throw new SyntaxError('JSON.parse');};}}());

/*
******************************
* jquery.rwdImageMaps.min.js *
******************************
*/
;(function(a){a.fn.rwdImageMaps=function(){var c=this;var b=function(){c.each(function(){if(typeof(a(this).attr("usemap"))=="undefined"){return}var e=this,d=a(e);a("<img />").load(function(){var g="width",m="height",n=d.attr(g),j=d.attr(m);if(!n||!j){var o=new Image();o.src=d.attr("src");if(!n){n=o.width}if(!j){j=o.height}}var f=d.width()/100,k=d.height()/100,i=d.attr("usemap").replace("#",""),l="coords";a('map[name="'+i+'"]').find("area").each(function(){var r=a(this);if(!r.data(l)){r.data(l,r.attr(l))}var q=r.data(l).split(","),p=new Array(q.length);for(var h=0;h<p.length;++h){if(h%2===0){p[h]=parseInt(((q[h]/n)*100)*f)}else{p[h]=parseInt(((q[h]/j)*100)*k)}}r.attr(l,p.toString())})}).attr("src",d.attr("src"))})};a(window).resize(b).trigger("resize");return this}})(jQuery);


/*
******************************
* cycle.js
******************************
*/
"function"!=typeof JSON.decycle&&(JSON.decycle=function(e){"use strict";var t=[],r=[];return function n(e,a){var o,i,f;if(!("object"!=typeof e||null===e||e instanceof Boolean||e instanceof Date||e instanceof Number||e instanceof RegExp||e instanceof String)){for(o=0;o<t.length;o+=1)if(t[o]===e)return{$ref:r[o]};if(t.push(e),r.push(a),"[object Array]"===Object.prototype.toString.apply(e))for(f=[],o=0;o<e.length;o+=1)f[o]=n(e[o],a+"["+o+"]");else{f={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(f[i]=n(e[i],a+"["+JSON.stringify(i)+"]"))}return f}return e}(e,"$")}),"function"!=typeof JSON.retrocycle&&(JSON.retrocycle=function retrocycle($){"use strict";var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$});
